import{r as l,b as u,j as t,c as x}from"./index-BL1dFcbn.js";import{t as y,C as f,a as s,R as g,G as S,X as T,Y as b,T as P,b as R,c as j,B as _,d as m,h as C}from"./ChartContainer-MKzQ0Ycl.js";import{B as L,a as A}from"./BarChart-DCAIJ4Aa.js";import{C as E,X as O,Y as I}from"./CartesianChart-DBaW1knG.js";import"./tooltipContext-nfTICcRa.js";const H=l.memo(function(){const{data:e,isLoading:o,error:c,refetch:h}=u(),i=l.useMemo(()=>e?.labels?.length?e.labels.map((a,r)=>({name:y(a,25),fullName:a||"Unknown",quantity:e.data?.[r]??0,percentage:e.percentages?.[r]??0})):[],[e]),p=!o&&i.length===0;return t.jsx(f,{title:"Top 10 Products",isLoading:o,error:c,onRetry:h,isEmpty:p,height:"xl",ariaLabel:"Horizontal bar chart showing top 10 products by quantity sold",children:t.jsx("div",{style:{height:s.height.xl},children:t.jsx(g,{width:"100%",height:"100%",children:t.jsxs(L,{data:i,layout:"vertical",margin:s.margin.withRightLabel,children:[t.jsx(E,{...S,horizontal:!1}),t.jsx(O,{type:"number",...T}),t.jsx(I,{type:"category",dataKey:"name",...b,fontSize:s.fontSize.sm,width:s.yAxisWidth.xl}),t.jsx(P,{contentStyle:j,labelStyle:R,formatter:(a,r,n)=>{const d=n.payload?.percentage??0;return[`${x(Number(a)||0)} (${d.toFixed(1)}%)`,"Quantity"]},labelFormatter:(a,r)=>r?.[0]?.payload?.fullName||String(a)}),t.jsx(A,{dataKey:"quantity",fill:m.primary,..._,children:t.jsx(C,{dataKey:"percentage",position:"right",fill:m.label,fontSize:s.fontSize.sm,formatter:a=>`${Number(a).toFixed(1)}%`})})]})})})})});export{H as TopProductsChart};
